<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Projects â€“ ALI SHABESTARY</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    .book-container {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 80vh;
      background: transparent;
      padding: 0;
      margin: 0;
    }
    .book {
      display: flex;
      width: 84vw;
      max-width: 1400px;
      aspect-ratio: 2.828 / 1; /* Two A4 landscapes side by side */
      height: auto;
      max-height: 80vh;
      box-shadow: none;
      border-radius: 0;
      overflow: hidden;
      background: none;
      position: relative;
      border: none;
      gap: 0;
      font-size: 0;
    }
    .page {
      width: 50%;
      height: 100%;
      aspect-ratio: 1.414 / 1; /* A4 landscape for each page */
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.2s;
      position: relative;
      z-index: 1;
      background: linear-gradient(to bottom, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 50%, rgba(255,255,255,0.8) 100%);
      box-shadow: none;
      border: none;
      border-radius: 0;
      margin: 0;
      padding: 0;
      font-size: 1rem;
    }
    .page img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 0;
      box-shadow: none;
    }
    .page-label {
      position: absolute;
      bottom: 12px;
      left: 20px;
      font-size: 1rem;
      color: #888;
      z-index: 2;
      background: transparent;
    }
    .page.right .page-label {
      left: auto;
      right: 20px;
    }
  </style>
</head>
<body class="projects-page">
  <header>
    <div class="site-name">ALI SHABESTARY</div>
    <nav class="nav-dropdown">
      <a href="projects.html">Projects</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>
  <main>
    <h1 style="text-align:center;">EXTENDED PORTFOLIO</h1>
    <div class="book-container">
      <!-- Only one page for mobile, two for desktop -->
      <!-- Only one page for mobile, two for desktop -->
<div class="book">
  <!-- Desktop: two pages -->
  <div class="page left" id="desktop-left" onclick="flip(-1)">
    <img id="img-left" src="images/project1-0.jpg" alt="Left Page">
  </div>
  <div class="page right" id="desktop-right" onclick="flip(1)">
    <img id="img-right" src="images/project1-1.jpg" alt="Right Page">
  </div>
  <!-- Mobile: single page -->
  <div class="page" id="mobile-single">
    <img id="img-single" src="images/project1-0.jpg" alt="Page">
  </div>
</div>
    </div>
  </main>
  <script>
    // Simple book flipping logic
    const images = [
    "images/project1-0.jpg",
    "images/project1-1.jpg",
    "images/project1-2.jpg",
    "images/project1-3.jpg",
    "images/project1-4.jpg",
    "images/project1-5.jpg",
    "images/project1-6.jpg",
    "images/project1-7.jpg",
    "images/project1-8.jpg",
    "images/project1-9.jpg",
    "images/project1-10.jpg",
    "images/project1-11.jpg",
    "images/project1-12.jpg",
    "images/project1-13.jpg",
    "images/project1-14.jpg",
    "images/project1-15.jpg",
    "images/project1-16.jpg",
    "images/project1-17.jpg",
    "images/project1-18.jpg",
    "images/project1-19.jpg",
    "images/project1-20.jpg",
    "images/project1-21.jpg",
    "images/project1-22.jpg",
    "images/project1-23.jpg",
    "images/project1-24.jpg",
    "images/project1-25.jpg",
    "images/project1-26.jpg",
    "images/project1-27.jpg",
    "images/project1-28.jpg"
      // Add more images as needed
    ];
    let page = 0; // left page index

    function flip(dir) {
      // dir: -1 for left, 1 for right
      if (dir === 1 && page < images.length - 2) page += 2;
      if (dir === -1 && page > 0) page -= 2;
      document.getElementById('img-left').src = images[page];
      document.getElementById('img-right').src = images[page+1] || "";
      document.getElementById('label-left').textContent = page + 1;
      document.getElementById('label-right').textContent = page + 2 <= images.length ? page + 2 : "";
      updateGradientHeight(); // <-- Add this line
    }

function updateGradientHeight() {
  // Get the left and right images
  const imgLeft = document.getElementById('img-left');
  const imgRight = document.getElementById('img-right');
  const book = document.querySelector('.book');
  const gradient = book.querySelector('::before'); // pseudo-element can't be selected directly

  // Get the tallest visible image
  const leftRect = imgLeft ? imgLeft.getBoundingClientRect() : { height: 0 };
  const rightRect = imgRight ? imgRight.getBoundingClientRect() : { height: 0 };
  const maxHeight = Math.max(leftRect.height, rightRect.height);

  // Set a CSS variable on .book for the gradient height
  book.style.setProperty('--gradient-height', maxHeight + 'px');
}

// Listen for image load and window resize
window.addEventListener('resize', updateGradientHeight);
document.getElementById('img-left').addEventListener('load', updateGradientHeight);
document.getElementById('img-right').addEventListener('load', updateGradientHeight);

// Initial call
updateGradientHeight();
  </script>
</body>
</html>
